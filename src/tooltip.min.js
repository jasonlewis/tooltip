(function(a){a.fn.tooltip=function(b){var c=a.extend({},a.fn.tooltip.defaults,b),d={container:a('<div class="tooltip-container"></div>'),wrapper:a('<div class="tooltip-wrapper"></div>'),arrow:a('<div class="tooltip-arrow"></div>'),content:a('<div class="tooltip-content"></div>')},e=c.live?"live":"bind",f="";a("body").append(d.container.html(d.wrapper.html(d.arrow).append(d.content)));d.container.css({maxWidth:c.width+"px"});return this[e]({mouseover:function(){var b=a(this);f=b.attr(c.attr);if(f.length>0){d.content.text(f);b.attr(c.attr,"");var e={top:b.offset().top,left:b.offset().left,width:b.outerWidth(),height:b.outerHeight(),actualWidth:b.outerWidth(true),actualHeight:b.outerHeight(true),arrow:{width:d.arrow.outerWidth()/2,height:d.arrow.outerHeight()/2}},g={};switch(c.position.charAt(0)){case"b":d.container.addClass("arrow-b");g={top:e.top+e.height+e.arrow.height+c.offset,left:e.left+e.width/2-d.container.outerWidth()/2};break;case"t":d.container.addClass("arrow-t");g={top:e.top-d.container.outerHeight(true)-e.arrow.height-c.offset,left:e.left+e.width/2-d.container.outerWidth()/2};break;case"l":d.container.addClass("arrow-l");g={top:e.top+e.height/2-d.container.outerHeight()/2,left:e.left-d.container.outerWidth(true)-e.arrow.width-c.offset};break;case"r":d.container.addClass("arrow-r");g={top:e.top+e.height/2-d.container.outerHeight()/2,left:e.left+e.width+e.arrow.width+c.offset};break}if(c.position=="topLeft"||c.position=="bottomLeft"){g.left+=d.container.outerWidth()/2-e.width/2;d.arrow.css("left",d.arrow.outerWidth())}else if(c.position=="topRight"||c.position=="bottomRight"){g.left=e.left+e.width-d.container.outerWidth();d.arrow.css("left",d.container.outerWidth()-d.arrow.outerWidth())}else if(c.position=="rightTop"||c.position=="leftTop"){g.top=e.top;d.arrow.css("top",e.height/2)}d.container.css(g).show()}},mouseout:function(){d.container.hide();a(this).attr(c.attr,f)}});return this};a.fn.tooltip.defaults={width:300,offset:0,live:false,position:"top",attr:"title"}})(jQuery)