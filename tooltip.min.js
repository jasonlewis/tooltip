(function(e){e.fn.tooltip=function(t){var n=e.extend({},e.fn.tooltip.defaults,t),r={container:e('<div class="tooltip-container"></div>'),wrapper:e('<div class="tooltip-wrapper"></div>'),arrow:e('<div class="tooltip-arrow"></div>'),content:e('<div class="tooltip-content"></div>')},i="";e("body").append(r.container.html(r.wrapper.html(r.arrow).append(r.content)));r.container.css({maxWidth:n.width+"px"});e("body").on("mouseover",this.selector,function(){var t=e(this);i=t.attr(n.attr);if(i.length>0){r.content.html(i);t.attr(n.attr,"");var s={top:t.offset().top,left:t.offset().left,width:t.outerWidth(),height:t.outerHeight(),actualWidth:t.outerWidth(true),actualHeight:t.outerHeight(true),arrow:{width:r.arrow.outerWidth()/2,height:r.arrow.outerHeight()/2}},o={};switch(n.position.charAt(0)){case"b":r.container.addClass("arrow-b");o={top:s.top+s.height+s.arrow.height+n.offset,left:s.left+s.width/2-r.container.outerWidth()/2};break;case"t":r.container.addClass("arrow-t");o={top:s.top-r.container.outerHeight(true)-s.arrow.height-n.offset,left:s.left+s.width/2-r.container.outerWidth()/2};break;case"l":r.container.addClass("arrow-l");o={top:s.top+s.height/2-r.container.outerHeight()/2,left:s.left-r.container.outerWidth(true)-s.arrow.width-n.offset};break;case"r":r.container.addClass("arrow-r");o={top:s.top+s.height/2-r.container.outerHeight()/2,left:s.left+s.width+s.arrow.width+n.offset};break}if(n.position=="topLeft"||n.position=="bottomLeft"){o.left+=r.container.outerWidth()/2-s.width/2;r.arrow.css("left",r.arrow.outerWidth())}else if(n.position=="topRight"||n.position=="bottomRight"){o.left=s.left+s.width-r.container.outerWidth();r.arrow.css("left",r.container.outerWidth()-r.arrow.outerWidth())}else if(n.position=="rightTop"||n.position=="leftTop"){o.top=s.top;r.arrow.css("top",s.height/2)}r.container.css(o).show()}});e("body").on("mouseout",this.selector,function(){r.container.hide();e(this).attr(n.attr,i)});return this};e.fn.tooltip.defaults={width:300,offset:0,position:"top",attr:"title"}})(jQuery)