window.Tooltip=function(){"use strict";function e(e,t){this.targets=document.querySelectorAll(e);this.options=this.mergeWithDefaults(t||{});this.title=null;this.context=this.createContext();for(var n=0;n<this.targets.length;n++){this.targets[n].addEventListener("mouseover",this.mouseOver.bind(this));this.targets[n].addEventListener("mouseout",this.mouseOut.bind(this))}}e.prototype.mouseOver=function(e){this.title=e.target.getAttribute(this.options.attribute);e.target.removeAttribute(this.options.attribute);if(this.title.length==0)return;this.context.querySelector(".tooltip-content").innerHTML=this.title;this.context.style.display="block";document.body.appendChild(this.context);var t={top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft};var n=e.target.getBoundingClientRect(),r={};switch(this.options.position.charAt(0)){case"b":this.context.classList.add("arrow-bottom");r={top:n.top+t.top+e.target.offsetHeight+this.context.querySelector(".tooltip-arrow").offsetHeight/2+this.options.offset,left:n.left+t.left+e.target.offsetWidth/2-this.context.offsetWidth/2};break;case"t":this.context.classList.add("arrow-top");r={top:t.top+(n.top-this.context.offsetHeight-this.context.querySelector(".tooltip-arrow").offsetHeight/2),left:n.left+t.left+e.target.offsetWidth/2-this.context.offsetWidth/2};break;case"l":this.context.classList.add("arrow-left");r={top:t.top+n.top+e.target.offsetHeight/2-this.context.offsetHeight/2,left:t.left+n.left-this.context.offsetWidth-this.context.querySelector(".tooltip-arrow").offsetWidth/2-this.options.offset};break;case"r":this.context.classList.add("arrow-right");r={top:t.top+n.top+e.target.offsetHeight/2-this.context.offsetHeight/2,left:t.left+n.left+e.target.offsetWidth+this.context.querySelector(".tooltip-arrow").offsetWidth/2+this.options.offset};break}if(this.options.position=="topLeft"||this.options.position=="bottomLeft"){r.left+=this.context.offsetWidth/2-e.target.offsetWidth/2;this.context.querySelector(".tooltip-arrow").style.left=this.context.querySelector(".tooltip-arrow").offsetWidth+"px"}else if(this.options.position=="topRight"||this.options.position=="bottomRight"){r.left=n.left+e.target.offsetWidth-this.context.offsetWidth;this.context.querySelector(".tooltip-arrow").style.left=this.context.offsetWidth-this.context.querySelector(".tooltip-arrow").offsetWidth+"px"}else if(this.options.position=="rightTop"||this.options.position=="leftTop"){r.top=n.top+t.top;this.context.querySelector(".tooltip-arrow").style.top=e.target.offsetHeight/2+"px"}else if(this.options.position=="rightBottom"||this.options.position=="leftBottom"){r.top=n.top+t.top-this.context.offsetHeight+this.offsetHeight;this.context.querySelector(".tooltip-arrow").style.top=this.context.offsetHeight-e.target.offsetHeight/2+"px"}this.context.style.left=r.left+"px";this.context.style.top=r.top+"px"};e.prototype.mouseOut=function(e){this.context.style.display="none";e.target.setAttribute(this.options.attribute,this.title)};e.prototype.createContext=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");e.setAttribute("class","tooltip-container");t.setAttribute("class","tooltip-wrapper");n.setAttribute("class","tooltip-arrow");r.setAttribute("class","tooltip-content");t.appendChild(n);t.appendChild(r);e.appendChild(t);e.style["max-width"]=this.options.width;return e};e.prototype.mergeWithDefaults=function(e){var t={width:"300px",offset:0,position:"top",attribute:"data-title"};var n={};for(var r in t){if(r in e){n[r]=e[r]}else{n[r]=t[r]}}return n};e.prototype.unbind=function(){var e;for(var t=0;t<this.targets.length;t++){e=this.targets[t].cloneNode(true);this.targets[t].parentNode.replaceChild(e,this.targets[t])}};return{"new":function(t,n){return new e(t,n)}}}()
